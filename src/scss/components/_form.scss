@use '../core/fonts' as *;
@use '../utils/functions' as *;
@use '../utils/mixins' as *;
@use '../utils/easings' as *;

// @import '~js-datepicker/dist/datepicker.min.css';

.form {
	flex: 1;
	max-width: 100%;

	&__back {
		position: relative;
		display: flex;
		align-items: center;
		gap: rem(24);
		cursor: pointer;

		@include text(button);

		svg {
			width: rem(24);
			height: rem(24);
			padding: rem(4);
			fill: none;
			background-color: white;
			border-radius: rem(5);
		}
	}

	&__steps {
		height: 100%;
		overflow: hidden;
	}

	&__steps-wrapper {
		height: 100%;
		display: flex;
		align-items: stretch;
	}

	&__step {
		position: relative;
		width: 100%;
		flex-shrink: 0;
		display: flex;
		flex-direction: column;
		gap: rem(55);

		@include breakpoint(tablet) {
			justify-content: center;
		}
	}

	&__title {
		@include text(h3);
	}

	&__inputs,
	&__line {
		display: flex;
		flex-direction: column;
		gap: rem(40);

		@include breakpoint(desktop) {
			gap: rem(50);
		}
	}

	&__line {
		@include breakpoint(desktop) {
			flex-direction: row;
			gap: rem(12);
		}
	}

	&__input-wrapper {
		flex: 1;
		position: relative;

		&:not(.no-underline) {
			opacity: 0.4;
			transition: 0.35s opacity $ease-out-quad;

			&::after {
				position: absolute;
				content: '';
				width: 100%;
				height: 1px;
				background-color: var(--dark-gray);
				left: 0;
				bottom: 0;
				transition: 0.35s background-color $ease-out-quad;
			}
		}

		&:focus-within {
			opacity: 1;
		}

		&.error {
			&::after {
				background-color: red;
			}

			.qs-datepicker-container {
				&::before {
					position: absolute;
					content: '';
					width: 100%;
					height: 100%;
					border-radius: rem(12);
					border: 1px solid red;
					z-index: 10;
					top: 0;
					left: 0;
					pointer-events: none;
				}
			}
		}
	}

	input,
	textarea {
		width: 100%;
		background-color: transparent;

		@include text(button);

		&::placeholder {
			color: var(--dark-gray);
			font-family: $bdo;

			@include text(button);
		}
	}

	input {
		padding-bottom: rem(22);
	}

	textarea {
		height: rem(104);
	}

	&__action {
		display: flex;
		flex-direction: column;
		justify-content: space-between;
		gap: rem(20);

		@include breakpoint(desktop) {
			flex-direction: row;
		}
	}

	.qs-datepicker-container {
		top: 0 !important;
		left: 0 !important;
		position: relative;
		font-family: $bdo;
		border: none;
		box-shadow: none;
		background: white;
		padding: rem(20) rem(24);
		width: 100%;
		border-radius: rem(12);

		@include breakpoint(desktop) {
			width: rem(420);
		}

		.qs-controls {
			background: white;

			* {
				font-weight: 600;
			}
		}

		.qs-squares {
			padding: 0;
			margin-top: rem(12);

			@include text(button);

			* {
				font-weight: 500;
				color: #344054;
			}
		}

		.qs-square {
			height: auto;
			aspect-ratio: 1;
			border-radius: 50%;
		}

		.qs-active {
			background: var(--purple);
			color: white;
		}

		.qs-square:not(.qs-empty, .qs-disabled, .qs-day, .qs-active):hover {
			background: rgb(165 124 255 / 25%) !important;
		}
	}
}
